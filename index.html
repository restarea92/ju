<style>

#visual-section {
    .content-wrapper-wide {
        width: 100lvw;
        position: relative;
    }
    .content {
        margin:0 auto;
        display:grid;
        grid-template-columns:repeat(12, 1fr);
        max-width: var(--small-content-width);
        max-height: 100%;
        .content-text {
            z-index: 1;
            grid-column: 1 / 11;
            grid-row: 6 / 8;
            p {
                color:#86868b;
            }
            strong {
                color: white;
                font-weight: 750;
            }
        }
        .content-image {   
            grid-column: 5 / 13;
            grid-row: 2 / 12;
            img {
                object-fit:contain;
                object-position: right;
                width: 100%;
                height: 100%;
            }
        }
        .content-title {
                grid-column: span 13;
                grid-row: 1;
                h2 {
                    text-align: left;
                    color:white;
                    font-size: var(--h2-font-size);
                    padding-bottom: calc(var(--h2-font-size) / 2);
                }
        }
    }
}
#horizontal-wrapper {
    overflow: hidden;
    position: relative;
}

.horizontal-content {
    display: flex;
    flex-direction: row;
    width: max-content;
    height: 100lvh;
}

</style>

<div class="visual-section sticky-wrapper" id="visual-section">
    <div class="sticky-element">
        <div 
            class="sticky-element-background"
            style="
                background: linear-gradient(0deg,#111111,#111111 80%,black);
            "
        >
        <video id="landscapeVideo" autoplay muted playsinline loop style="width:100%; height:100%; display:none; object-fit: cover; filter:brightness(0.75)">
            <source src="https://restarea92.github.io/ju/vtts.mp4" type="video/mp4" />
        </video>

        <video id="portraitVideo" autoplay muted playsinline loop style="width:100%; height:100%; display:none; object-fit: cover; filter:brightness(0.75)">
            <source src="https://restarea92.github.io/ju/vttsm.mp4" type="video/mp4" />
        </video>
        </div>
        <div class="content-wrapper sticky-element-content">
		  <div class="content" style="min-height:calc(100lvh - var(--default-margin) * 2); display:flex;">
                <div class="title" style="">
                <h2>
                    JU가 제시하는 보컬 교육의 미래.
                </h2>
            </div>
		  </div>
        </div>
    </div>
    <div id="scroll-trigger" style="position:relative; min-height: 100lvh; background: transparent; user-select: none; z-index: -1;">
	Trigger
    </div>
    
<style>
#multi-scroll {
}
.multi-scroll-item {
    width: 100lvw;
    min-width: 100lvw;
    height: 100lvh;
    display: flex;
    align-items: center;
    justify-content: center;
}
  
.horizontal-spacer {
    height: 300lvh;
}
.horizontal-container {
    position: sticky;
    top:0;
    display: flex;
    flex-wrap:nowrap;
    backdrop-filter: blur(16px);
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
    function isLandscape() {
        return window.innerWidth > window.innerHeight;
    }

    function updateVideo() {
        const landscapeVideo = document.getElementById('landscapeVideo');
        const portraitVideo = document.getElementById('portraitVideo');

        if (isLandscape()) {
        landscapeVideo.style.display = 'block';
        portraitVideo.style.display = 'none';
        landscapeVideo.play();
        portraitVideo.pause();
        } else {
        landscapeVideo.style.display = 'none';
        portraitVideo.style.display = 'block';
        portraitVideo.play();
        landscapeVideo.pause();
        }
    }

    updateVideo();

    window.addEventListener('resize', updateVideo);
    window.addEventListener('orientationchange', updateVideo);
});
</script>
    <div id="multi-scroll">
        <div class="horizontal-spacer">
            <div class="horizontal-container">
                <section id="multi-scroll-item1" class="multi-scroll-item" style="background: radial-gradient(circle,rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.3) 100%);">
                    <div class="content">
                        <div class="content-title">
                            <div id="progress-element">HELLO</div>
                            <h2>
                                첫 단추부터 확실하게.
                            </h2>
                        </div>
                        <div class="content-text">
                            <p>
                                <strong>지피지기 백전불태.</strong> 맞춤형 솔루션으로 설계하는 체계적 커리큘럼.<br>
                                아는 길로 나아가는 것보다 더 쉬운 것은 없죠. <br>
                                발성적 문제와 원인은 너무나도 다양합니다. <br>
                                JU의 커리큘럼은 현재 나의 상태를 정확하게 아는 것으로부터 시작합니다. <br><br> 
                                다양한 발성적 문제들을 과학적 관점으로 분석하고 <strong>개개인에 맞춘 체계적 커리큘럼</strong>을 제시합니다. 
                            </p>
                        </div>
                        <div class="content-image" style="filter: brightness(0.25);">
                            <img src="https://images.pexels.com/photos/8412319/pexels-photo-8412319.jpeg">
                        </div>
                    </div>
                </section>
                <section id="multi-scroll-item2" class="multi-scroll-item" style="background: radial-gradient(circle,rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.3) 100%);">
                    <div class="content">
                        <div class="content-title">
                            <div id="progress-element">HELLO</div>
                            <h2>
                                첫 단추부터 확실하게.
                            </h2>
                        </div>
                        <div class="content-text">
                            <p>
                                <strong>지피지기 백전불태.</strong> 맞춤형 솔루션으로 설계하는 체계적 커리큘럼.<br>
                                아는 길로 나아가는 것보다 더 쉬운 것은 없죠. <br>
                                발성적 문제와 원인은 너무나도 다양합니다. <br>
                                JU의 커리큘럼은 현재 나의 상태를 정확하게 아는 것으로부터 시작합니다. <br><br> 
                                다양한 발성적 문제들을 과학적 관점으로 분석하고 <strong>개개인에 맞춘 체계적 커리큘럼</strong>을 제시합니다. 
                            </p>
                        </div>
                        <div class="content-image" style="filter: brightness(0.25);">
                            <img src="https://images.pexels.com/photos/8412319/pexels-photo-8412319.jpeg">
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <section class="multi-scroll-item ">
            <h2>1</h2>
        </section>
        <section class="multi-scroll-item">
            <h2>2</h2>
        </section>
    </div>
</div>
<!-- 
<script type="module">
    import app from 'https://restarea92.github.io/ju/visual-scroll.js';

    document.addEventListener('DOMContentLoaded', () => {
                gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
        
        let horizontalSections = gsap.utils.toArray(".horizontal-spacer");
        function minVwVh(value) {
            const vw = window.innerWidth * (value / 100);
            const vh = window.innerHeight * (value / 100);
            return Math.min(vw, vh);
        }

        horizontalSections.forEach((container, containerIndex) => {
            let sections = container.querySelectorAll(".multi-scroll-item");
            const multiScrollItem1 = container.querySelector("#multi-scroll-item1");
            const text = multiScrollItem1.querySelector('.content-text');
            const image = multiScrollItem1.querySelector('.content-image');
            const title = multiScrollItem1.querySelector('.content-title');

            const multiScrollItem2 = container.querySelector("#multi-scroll-item2");
            const text2 = multiScrollItem2.querySelector('.content-text');
            const image2 = multiScrollItem2.querySelector('.content-image');
            const title2 = multiScrollItem2.querySelector('.content-title');


            const yOffset = minVwVh(10); // 10vw와 10vh 중 작은 값 (px 단위)
            const progressEl = document.getElementById('progress-element');

            let parallaxTimeline1 = gsap.timeline({
                scrollTrigger: {
                    trigger: container,
                    start: "top center",
                    end: "center bottom",
                    scrub: 1,
                    onUpdate: self => {
                        const progressPercent = (self.progress * 100).toFixed(0);
                        if (progressEl) progressEl.textContent = 'For debug: ' + progressPercent + '%';
                    }
                }
            });

            let parallaxTimeline2 = gsap.timeline({
                scrollTrigger: {
                    trigger: container,
                    start: "center bottom",
                    end: "center top",
                    scrub: 1,
                    onUpdate: self => {
                        const progressPercent = (self.progress * 100).toFixed(0);
                        if (progressEl) progressEl.textContent = 'For debug: ' + progressPercent + '%';
                    }
                }
            });

            let parallaxTimeline3 = gsap.timeline({
                scrollTrigger: {
                    trigger: container,
                    start: "top center",
                    end: "center bottom",
                    scrub: 1,
                    onUpdate: self => {
                        const progressPercent = (self.progress * 100).toFixed(0);
                        if (progressEl) progressEl.textContent = 'For debug: ' + progressPercent + '%';
                    }
                }
            });

            // 초기 위치 세팅
            if (text) gsap.set(text, { y: yOffset * 3, x: 0  });
            if (image) gsap.set(image, { y: yOffset * 1.5, x: 0  });
            if (title) gsap.set(title, { y: yOffset * 1, x: 0  });

            
            // 초기 위치 세팅
            if (text2) gsap.set(text2, { y: yOffset * 3, x: 0  });
            if (image2) gsap.set(image2, { y: yOffset * 1.5, x: 0  });
            if (title2) gsap.set(title2, { y: yOffset * 1, x: 0  });
            
            // 타임라인 애니메이션 추가
            parallaxTimeline1.to([text, image, title], {
                y: "0%",
                ease: "ease",
                duration: 0.5
            }, 0);
            
            parallaxTimeline2.to(text, {
                x: "-200%",
                ease: "ease",
                opacity:0,
                duration: 0.5
            }, 0);
            parallaxTimeline2.to(image, {
                x: "-500%",
                ease: "ease",
                opacity:0,
                duration: 0.5
            }, 0);
            parallaxTimeline2.to(title, {
                x: "-100%",
                ease: "ease",
                filter: "blur(4px)",
                duration: 0.5
            }, 0);


                       
            // 타임라인 애니메이션 추가
            parallaxTimeline2.to([text2, image2, title2], {
                y: "0%",
                ease: "ease",
                duration: 0.5
            }, 0);
            
            parallaxTimeline3.to(text2, {
                x: "-200%",
                ease: "ease",
                opacity:0,
                duration: 0.5
            }, 0);
            parallaxTimeline3.to(image2, {
                x: "-500%",
                ease: "ease",
                opacity:0,
                duration: 0.5
            }, 0);
            parallaxTimeline3.to(title2, {
                x: "-100%",
                ease: "ease",
                filter: "blur(4px)",
                duration: 0.5
            }, 0);

            let tl = gsap.timeline({
                scrollTrigger: {
                    trigger: container,
                    pin: false,
                    scrub: 0.5,
                    start: "top+=10% top",  
                    end: "bottom-=10% bottom",
                }
            });

            sections.forEach((section, index) => {
                if (index === 0) {
                    tl.to(sections, { 
                        xPercent: 0, 
                        duration: 0.5, 
                        ease: "none" 
                    });
                } else {
                    tl.to(sections, { 
                        xPercent: -100 * index, 
                        duration: 3, 
                        ease: "power2.inOut" 
                    })
                    .to(sections, { 
                        xPercent: -100 * index, 
                        duration: 0.5, 
                        ease: "none" 
                    });
                }
            });
        });

        gsap.to("body", {
            scrollBehavior: "smooth"
        });
        app.init();
    });
</script> -->






    <div style="display:none;">
        <div class="content">
            <div class="content-text">
                <p>
                    <strong>목표는 높게, 발성은 쉽게.</strong> 아무리 좋은 내용도 제대로 이해하지 못한다면 활용할 수 없습니다. 
                    체계적 발성 이론을 누구나 쉽게 이해할 수 있도록 JU만의 방식으로 교육합니다. <br><br>
                    더 이상 전공서적에나 나올 법한 어려운 이론들로 고민하지 마세요. 그저 여러분들은 앞으로 일어날 놀라운 변화에만 집중하세요. 여러분들의 성장을 위한 고민은 JU가 할 테니까요.
                </p>
            </div>
            <div >
                <img src="https://restarea92.github.io/ju/33.jpg">
            </div>
        </div>
    </div>
    
