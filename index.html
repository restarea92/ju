<style>
    :root {
  --logo-width: 100px;
  --default-container-width: 1280px;
  --default-content-width: 1152px;
  --small-container-width: 1024px;
  --small-content-width: 960px;
  --default-container-padding: calc(var(--default-container-width) - var(--default-content-width));
  --default-logo-margin: 20px;
  --default-navbar-padding: 12px;
}

#visual-section {
    .content-wrapper-wide {
        width: 100lvw;
        position: relative;
    }
    .content {
        margin:0 auto;
        display:grid;
        grid-template-columns:repeat(12, 1fr);
        max-width: var(--small-content-width);
        .content-text {
            z-index: 1;
            grid-column: 1 / 11;
            grid-row: 1 / 5;
            p {
                color:#959597;
            }
            strong {
                color: white;
                font-weight: 750;
            }
        }
        .content-image {   
            grid-column: 7 / 13;
            grid-row: 3 / 7;
            img {
                object-fit:cover;
                width: 100%;
                height: 100%;
            }
        }
    }
}
#horizontal-wrapper {
    overflow: hidden;
    position: relative;
}

.horizontal-content {
    display: flex;
    flex-direction: row;
    width: max-content;
    height: 100lvh;
}

.content {
    flex: 0 0 100lvw; /* 하나의 화면을 꽉 채우도록 */
    box-sizing: border-box;
    padding: 4rem;
}
</style>

<div class="visual-section sticky-wrapper" id="visual-section">
    <div class="sticky-element">
        <div 
            class="sticky-element-background"
            style="
                background: linear-gradient(0deg,#111111,#111111 80%,black);
            "
        >
        	<video autoplay muted playsinline loop style="object-fit: cover; width: 100%; height: 100%;">
				<source src="https://restarea92.github.io/ju/vtts.mp4" type="video/mp4" />
		    </video>
        </div>
        <div class="content-wrapper sticky-element-content">
		  <div class="content" style="min-height:calc(100lvh - var(--default-margin) * 2); display:flex;">
                <div class="title" style="">
                <h2>
                    JU가 제시하는 보컬 교육의 미래.
                </h2>
                <h3>발성에 대한 과학적 접근, 맞춤형 솔루션으로 설계하는 체계적 커리큘럼.</h3>
            </div>
		  </div>
        </div>
    </div>
    <div id="scroll-trigger" style="position:relative; min-height: 100lvh; background: transparent; user-select: none; z-index: -1;">
	Trigger
    </div>
    
<style>
#multi-scroll {
}
.multi-scroll-item {
    border:2px solid blue;
    width: 100lvw;
    min-width: 100lvw;
    height: 100lvh;
    display: flex;
    align-items: center;
    justify-content: center;
}
  
.horizontal-spacer {
    height: 300lvh;
}
.horizontal-container {
    position: sticky;
    top:0;
    display: flex;
    flex-wrap:nowrap;
}
</style>
    <div id="multi-scroll">
        <div class="horizontal-spacer">
            <div class="horizontal-container">
                <section class="multi-scroll-item">
                    <div class="content">
                        <div class="content-text">
                            <p>
                                <strong>지피지기 백전불태.</strong> 아는 길로 나아가는 것보다 더 쉬운 것은 없죠. 발성적 문제와 원인은 너무나도 다양합니다. <br>JU의 커리큘럼은 현재 나의 상태를 정확하게 아는 것으로부터 시작합니다. <br><br> 다양한 발성적 문제들을 과학적 관점으로 분석하고 <strong>개개인에 맞춘 체계적 커리큘럼</strong>을 제시합니다. 
                            </p>
                        </div>
                        <div class="content-image" style="filter: brightness(0.5);">
                            <img src="https://images.pexels.com/photos/8412319/pexels-photo-8412319.jpeg">
                        </div>
                    </div>
                </section>
                <section class="multi-scroll-item">
                    <h2>2</h2>
                </section>
            </div>
        </div>
        <section class="multi-scroll-item ">
            <h2>1</h2>
        </section>
        <section class="multi-scroll-item">
            <h2>2</h2>
        </section>
    </div>
</div>

<script type="module">
import app from 'https://restarea92.github.io/ju/visual-scroll.js';

document.addEventListener('DOMContentLoaded', () => {
    app.init();
});
</script>






    <div style="display:none;">


                <div class="content">
                    <div class="content-text">
                        <p>
                            <strong>목표는 높게, 발성은 쉽게.</strong> 아무리 좋은 내용도 제대로 이해하지 못한다면 활용할 수 없습니다. 
                            체계적 발성 이론을 누구나 쉽게 이해할 수 있도록 JU만의 방식으로 교육합니다. <br><br>
                            더 이상 전공서적에나 나올 법한 어려운 이론들로 고민하지 마세요. 그저 여러분들은 앞으로 일어날 놀라운 변화에만 집중하세요. 여러분들의 성장을 위한 고민은 JU가 할 테니까요.
                        </p>
                    </div>
                    <div >
                        <img src="https://restarea92.github.io/ju/33.jpg">
                    </div>
                </div>
    </div>
    <script>
document.addEventListener('DOMContentLoaded', () => {
    gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
    
    let horizontalSections = gsap.utils.toArray(".horizontal-spacer");
    horizontalSections.forEach((container, containerIndex) => {
        let sections = container.querySelectorAll(".multi-scroll-item");
        ScrollTrigger.create({
            trigger: ".horizontal-spacer",
            start: "top center",
            end: "bottom center",
            onUpdate: (self) => {
                console.log("스크롤 진행률: ", self.progress); // 0 ~ 1
                // 원하는 별도 제어
            }
        });
        let tl = gsap.timeline({
            scrollTrigger: {
                trigger: container,
                pin: false,
                scrub: 1,
                start: "top+=10% top",  
                end: "bottom-=10% bottom",
            }
        });

        sections.forEach((section, index) => {
            if (index === 0) {
                tl.to(sections, { 
                    xPercent: 0, 
                    duration: 0.5, 
                    ease: "none" 
                });
            } else {
                tl.to(sections, { 
                    xPercent: -100 * index, 
                    duration: 3, 
                    ease: "power2.inOut" 
                })
                .to(sections, { 
                    xPercent: -100 * index, 
                    duration: 0.5, 
                    ease: "none" 
                });
            }
        });
    });

    gsap.to("body", {
        scrollBehavior: "smooth"
    });
});
    </script>
    
